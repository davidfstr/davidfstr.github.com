<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Learnings from SICP (and Lisp) | DaFoster</title>
    
    <!-- Favicon -->
    <!-- NOTE: Feed readers only understand favicons at the root of the site. -->
    <link rel="shortcut icon" href="/favicon.ico">
  
    
  
    <!-- Google Snippet -->
    
    <meta name="author" content="David Foster">
    
      
      <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "https://dafoster.net/articles/2013/02/01/learnings-from-sicp/"
        },
        "headline": "Learnings from SICP (and Lisp)",
        
        "datePublished": "2013-02-01T00:00:00+00:00",
        "dateModified": "2013-02-01T00:00:00+00:00",
        "author": {
          "@type": "Person",
          "name": "David Foster",
          "image": {
            "@type": "ImageObject",
            "url": "https://dafoster.net/about/profile.jpg"
          }
        },
        "publisher": {
          "@type": "Organization",
          "name": "David Foster",
          "logo": {
            "@type": "ImageObject",
            "url": "https://dafoster.net/about/profile.jpg"
          }
        }
      }
      </script>
    
  
    <!-- Twitter Card -->
    
    
      <meta name="twitter:card" content="summary" />
      <meta name="twitter:site" content="@davidfstr" />
      <meta name="twitter:title" content="Learnings from SICP (and Lisp)" />
      
      <meta name="twitter:description" content="" />
      <meta name="twitter:image" content="https://dafoster.net/assets/article-pencil-wide.png" />
    
    
    <!-- LinkedIn and Mastodon Card -->
    
    
      <meta property="og:type" content="article" />
      <meta name="image" property="og:image" content="https://dafoster.net/assets/article-pencil-wide.png" />
      
      <meta name="description" property="og:description" content="" />
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/atom.xml" />
    <link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/rss.xml" />
    
    <!-- Analytics Header -->
    
      <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YVPE3YRSVP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-YVPE3YRSVP');
</script>
    
    
    <!-- Mobile -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Styles -->
    <link rel="preload" href="/assets/bootswatch-readable-3.4.1/raleway/1Ptug8zYS_SKggPNyC0IT4ttDfA.woff2" as="font" crossorigin="anonymous">
    <link rel="stylesheet" href="/assets/bootswatch-readable-3.4.1/bootstrap.min.css">
    
    <link rel="stylesheet" href="/assets/css/style.css" media="all">
    <link rel="stylesheet" href="/assets/css/style-print.css" media="print">
    
    
    
    
    <!-- Scripts -->
    
      <script src="/assets/js/jquery-1.12.4.min.js"></script>
    
    
    
      <script src="/assets/bootstrap-3.4.1/js/bootstrap.min.js"></script>
    
    
    
  </head>

  <body>

    <nav class="navbar navbar-inverse">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#df-navbar-collapse" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">DaFoster</a>
        </div>
        <div class="navbar-collapse collapse" id="df-navbar-collapse">
          <ul class="nav navbar-nav">
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
                <li><a href="/projects/">Projects</a></li>
              
            
              
            
              
                <li><a href="/articles/">Articles</a></li>
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
                <li><a href="/about/">About</a></li>
              
            
              
            
              
            
              
            
              
            
            
          </ul>
        </div>
      </div>
    </nav>

    <div class="container">
      <div class="content-container">
        <!-- Encourage IE 6 users to upgrade their browser. -->
        <!--[if lt IE 7]>
          <div style="clear: both; height: 59px; padding: 0 0 0 50px; position: relative;">
            <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
              <img src="http://storage.ie6countdown.com/assets/100/images/banners/warning_bar_0000_us.jpg"
                border="0" height="42" width="820"
                alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today." />
            </a>
          </div>
        <![endif]-->
        
        
          <div class="row">
  <div class="col-md-12 content post">
    <h1 class="post-title">Learnings from SICP (and Lisp)</h1>
    <div class="post-metadata">
      
        Feb 01, 2013
       &ndash; Filed as: 
      <span class="tag_box tag_box--inline">
        
        
          <span class="tag"><a class="tag__pill" href="/articles/topics/#Software">
  Software<sup>72</sup>
</a>
<a class="tag__subscribe subscribe" href="feed://dafoster.net/articles/topics/Software.xml">
  <img src="/assets/feed-icon-14x14.png" width="14" height="14" alt="Subscribe to Software" title="Subscribe to Software"/>
</a>
</span>
        
      </span>
      
    </div>
    
    <p><img src="/assets/2013/sicp_cover.jpg"
  alt="Cover of The Structure and Interpretation of Computer Programs"
  style="float: right;"
  width="170" height="246" /></p>

<p>Recently I took the liberty of reading one of the defining books in the domain of computer science: <a href="http://mitpress.mit.edu/sicp/">The Structure and Interpretation of Computer Programs</a>, often abbreviated as SICP.</p>

<p>SICP is the computer science textbook given to undergraduates at MIT. It serves as an advanced text on software design and as an introductory text for the Lisp programming language.</p>

<p>Here are some interesting things I learned:</p>

<div class="toc">
  <ul>
    <li><a href="#role-of-programming-languages">Role of Programming Languages</a></li>
    <li><a href="#abstract-data-types">Abstract Data Types</a></li>
    <ul>
      <li><a href="#lisp-vs-pascal-design-philosophies">Lisp vs. Pascal Design Philosophies</a></li>
      <li><a href="#polymorphism">Polymorphism</a></li>
      <li><a href="#cross-type-operations">Cross-Type Operations</a></li>
    </ul>
    <li><a href="#assignments-mutable-state-and-side-effects">Assignments, Mutable State, and Side Effects</a></li>
    <ul>
      <li><a href="#lazy-evaluation">Lazy Evaluation</a></li>
    </ul>
    <li><a href="#declarative-languages">Declarative Languages</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</div>


<p><a id="role-of-programming-languages"></a></p>

<h2>Role of Programming Languages</h2>

<p>Languages should:</p>

<ul>
<li>provide the means for <strong>combining simple ideas to form complex ideas</strong>,</li>
<li>provide the means for <strong>abstracting units of computation</strong>, and</li>
<li>serve as a framework within which we <strong>organize our ideas about processes</strong>.</li>
</ul>


<p>Units of computation can be abstracted in several forms:</p>

<ul>
<li><strong>procedure</strong> - <em>Assigns names to common patterns, allowing you to work in terms of the named abstractions directly.</em>

<ul>
<li>AKA function, method</li>
</ul>
</li>
<li><strong>abstract data type</strong> - <em>Allows the choice of representation (i.e. the implementation) to vary separately from the API (i.e. the interface).</em><sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>

<ul>
<li>Built-in language support is often provided in the form of <strong>classes</strong>.</li>
<li>See also: LISP constructors

<ul>
<li>AKA <strong>constructor</strong> or <strong>static factory method</strong> in other languages</li>
</ul>
</li>
<li>See also: LISP selectors

<ul>
<li>AKA <strong>accessors</strong>, mutators, or <strong>properties</strong> in other languages</li>
</ul>
</li>
</ul>
</li>
<li><strong>module</strong><sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup> - <em>Groups several procedures and data types into a namespace independent from other modules.</em>

<ul>
<li>AKA package (Java), namespace (C++), module (Python)</li>
<li>Languages that don&rsquo;t have built-in support for this concept typically use prefixes to create de-facto namespaces. (C, Objective-C, PHP &lt; 5.3.0)</li>
</ul>
</li>
<li><strong>assembly</strong> - <em>Groups several modules together in a single versioned <sup id="fnref:3"><a href="#fn:3" rel="footnote">3</a></sup> package. Assemblies can depend on other assemblies, often from separate vendors.</em>

<ul>
<li>AKA <strong>shared library</strong> (C, C++), gem (Ruby), egg (Python)</li>
</ul>
</li>
</ul>


<p><a id="abstract-data-types"></a></p>

<h2>Abstract Data Types</h2>

<p><a id="lisp-vs-pascal-design-philosophies"></a></p>

<h3>Lisp vs. Pascal Design Philosophies</h3>

<p><em>For you youngin&rsquo;s that have never used Pascal, just replace &ldquo;Pascal&rdquo; with &ldquo;Java&rdquo; in this section and you should get the right idea.</em></p>

<p>Two design philosophies:</p>

<ul>
<li><p><strong>Lisp-school</strong>: Create abstract data types by combining a <em>small</em> set of general-purpose data types (particularly collections). These complex structures can then be manipulated using operations on these general-purpose types.</p>

<ul>
<li><p><em>&ldquo;Lisp is for building organisms -­ imposing, breathtaking, dynamic structures built by squads fitting fluctuating myriads of simpler organisms into place.&rdquo;</em></p></li>
<li><p><em>&ldquo;Lisp programs inflate libraries with functions whose utility transcends the application that produced them.&rdquo;</em></p></li>
</ul>
</li>
<li><p><strong>Pascal-school</strong>: Create <em>many</em> special-purpose data types (i.e. classes) and specialized operations to manipulate them.</p>

<ul>
<li><p><em>&ldquo;Pascal is for building pyramids -­ imposing, breathtaking, static structures built by armies pushing heavy blocks into place.&rdquo;</em></p></li>
<li><p><em>&ldquo;In Pascal the plethora of declarable data structures induces a specialization within functions that inhibits and penalizes casual cooperation.&rdquo;</em></p></li>
</ul>
</li>
</ul>


<p>Roughly speaking, I think of the Lisp philosophy as <strong>programming with collections</strong> and the Pascal philosophy as <strong>programming with classes</strong>.<sup id="fnref:4"><a href="#fn:4" rel="footnote">4</a></sup></p>

<h4>Usage</h4>

<p>The Pascal philosophy has won out in most statically typed languages such as C++ and Java, and in languages with poor (or nonexistent) built-in collections.</p>

<p>The Lisp philosophy is more common in dynamically typed languages that lack built-in support for classes, such as Lisp itself and JavaScript.</p>

<p>A hybrid approach (using both philosophies) is seen in languages that are dynamically typed, have built-in collections, and have built-in classes, such as Python and Ruby.</p>

<p><a id="polymorphism"></a></p>

<h3>Polymorphism</h3>

<p>Polymorphism is where multiple abstract data types implement a common <em>interface</em>, which is typically defined as a series of methods that can be called on all implementing types.</p>

<p>This allows client code, when given an object known only to implement a particular interface, to invoke interface methods on the object and end up calling the correct implementation of that method depending on the runtime type of the object.</p>

<h4>Implementation Strategies</h4>

<p>Polymorphism can be implemented in several different ways:</p>

<ul>
<li><strong>Switch on Typecode</strong>

<ul>
<li>Easiest to implement. Hardest to maintain.</li>
<li>Treated as an anti-pattern in many OO languages.</li>
</ul>
</li>
<li><strong>Virtual Lookup Tables</strong>

<ul>
<li>AKA &ldquo;data-directed programming&rdquo; (in SICP) or v-tables (C++)</li>
<li>Default implementation strategy for most OO languages.</li>
</ul>
</li>
<li><strong>Message Passing</strong>

<ul>
<li>Most flexible.</li>
</ul>
</li>
</ul>


<p>Many languages provide a <em>default implementation strategy</em> as a language construct. For example C++ and Java use virtual lookup tables. Smalltalk and Objective-C use message passing. C doesn&rsquo;t give you anything for free, so you have to roll your own polymorphism.</p>

<h4>Tradeoffs</h4>

<p>These implementation strategies for polymorphism have some tradeoffs, which are worth knowing:</p>

<ul>
<li>Virtual lookup tables are restricted in that <em>the total set of operations on the abstract data type must be known in advance</em>.</li>
<li>Message passing, on the other hand, can be made more flexible:

<ul>
<li>Implementing data types may choose to support more operations than the standard set on the interface.<sup id="fnref:5"><a href="#fn:5" rel="footnote">5</a></sup></li>
<li>Heck, individual <em>instances</em> can choose to support more operations than the standard set.

<ul>
<li>In such cases, you would want to interrogate (i.e. reflect on) an individual instance to determine what operations (i.e. messages) it understands/supports.</li>
</ul>
</li>
</ul>
</li>
</ul>


<p><a id="cross-type-operations"></a></p>

<h3>Cross-Type Operations</h3>

<p>Introducing <strong>cross-type operations</strong>, such as <code>add(Integer, Complex)</code>, is a very tricky design issue.</p>

<p>Having explicit functions that operate on all combinations of types is possible but highly verbose. With <strong>n</strong> types and <strong>m</strong> operations, you need <strong>n*m</strong> functions to implement all combinations. Impractical.</p>

<p>Another strategy is to use <em>coercion</em> to convert a value from one type to another. So instead of defining <code>add(Integer, Complex)</code>, just define <code>convertToComplex(Integer) : Complex</code>, and use the existing <code>add(Complex, Complex)</code>. To convert between all types requires at least <strong>n</strong> but no more than <strong>n<sup>2</sup></strong> conversion functions.</p>

<p>Many programming languages have built-in facilities to automatically coerce types. For some languages (like JavaScript or PHP) these coersion rules are quite complex (and error-prone). Other languages (like ML) ban implicit coercion entirely.</p>

<ul>
<li>Java only has coercion for built-in types.</li>
<li>C++ lets the datatype designer choose (via <code>implicit</code> or explicit one-argument constructors).</li>
<li>Scala relies on implicit coercion a lot to enable foreign methods to be introduced on types.</li>
</ul>


<p>One wrinkle is that these conversion functions might introduce a loss in precision. For example not every integer can be represented as double of exactly the same value.</p>

<p><a id="assignments-mutable-state-and-side-effects"></a></p>

<h2>Assignments, Mutable State, and Side Effects</h2>

<p>Introducing assignment creates lots of complications. In particular <em>referential transparency</em> is lost. Optimizations related to reordering and coalescing expressions need to be a lot more careful. Static reasoning of various kinds is impaired.</p>

<p>To reduce bugs it is best to minimize the use of mutation by using immutable objects whenever possible.<sup id="fnref:6"><a href="#fn:6" rel="footnote">6</a></sup></p>

<p>Haskell takes a very aggressive stance against assignments, mutable state, and other side effects: they are banned by default. However Haskell does allow side effects within the context of a <strong>monad</strong>. This is a special construct unique to Haskell (so far as I know).</p>

<p><a id="lazy-evaluation"></a></p>

<h3>Lazy Evaluation</h3>

<p>Normally expressions are evaluated immediately, in the order that they occur in code. <strong>Lazy evaluation</strong> changes this behavior such that expressions are only evaluated when some primitive operation (like print or add) requires the value of the expression. Until then the unevaluated expression is passed around (as a &ldquo;thunk&rdquo;).</p>

<p>Lazy evaluation enables that creation of <strong>lazy data structures</strong>, which is a useful performance optimization in some contexts.</p>

<p>Unrestricted mutation and lazy evaluation do not mix well in programming languages. Since unrestricted mutation is very common in mainstream programming languages, it is quite rare to be in an environment that supports lazy evaluation. Haskell is one of the few.</p>

<p><a id="declarative-languages"></a></p>

<h2>Declarative Languages</h2>

<p>Logic programming languages are at the far declarative end of the
imperative-declarative spectrum. They can be used to deduce answers
from a set of initial set of declarative statements.</p>

<p><a href="/articles/2013/02/25/notes-on-prolog/">Prolog</a> is the best-known example of a logic programming language.</p>

<p>Query systems for databases are a type of logic programming language.</p>

<p>A &ldquo;query&rdquo; (i.e. an expression in the language) is transformed into a
&ldquo;query plan&rdquo; (i.e. a specific set of steps to follow) by a query planner. The implementation of these planners is quite complex.</p>

<p><a id="conclusion"></a></p>

<h2>Conclusion</h2>

<p>So those are a few interesting things I learned from reading SICP. Taking notes while reading made it a lot easier for me to remember the content. You might try it when reading a technical book with a lot of new concepts.</p>

<h3><em>Related Articles</em></h3>

<ul>
<li><a href="/articles/2013/03/01/notes-on-racket/">Notes on Racket</a>

<ul>
<li><em>Describes Racket, a dialect of Lisp with batteries included.</em><br/>
<em>Useful for implementing other languages and creating cross-platform GUI programs.</em></li>
</ul>
</li>
<li><a href="/articles/2013/01/29/unique-features-of-various-programming-languages/">Unique Features of Various Programming Languages</a>

<ul>
<li><em>Discusses several programming languages and their unique features.</em></li>
</ul>
</li>
<li><a href="/articles/2013/02/25/notes-on-prolog/">Notes on Prolog</a>

<ul>
<li><em>Describes the Prolog language in more detail.</em></li>
</ul>
</li>
</ul>

<div class="footnotes">
<hr/>
<ol>
<li id="fn:1">
<p>For example, complex numbers can be expressed in rectangular (a + b<em>i</em>) or polar form (r*cos(𝜽)). &ndash; Some representations are better than others for different operations. Adding works better in rectangular form. Multiplying works better in polar form.<a href="#fnref:1" rev="footnote">&#8617;</a></p></li>
<li id="fn:2">
<p>SICP does not mention the notion of a <em>module</em> or an <em>assembly</em>, however these are common higher-level units for abstracting computation in languages other than Lisp.<a href="#fnref:2" rev="footnote">&#8617;</a></p></li>
<li id="fn:3">
<p>Versioning assemblies effectively is a challenging topic onto itself. If done without care you get so-called &ldquo;dependency hell&rdquo;. Just getting a consistent version numbering scheme can be tricky. One popular versioning scheme is codified as <a href="http://semver.org">Semantic Versioning</a>.<a href="#fnref:3" rev="footnote">&#8617;</a></p></li>
<li id="fn:4">
<p>In my opinion, a language that supports neither first-class collections nor first-class classes is non-viable for large scale general purpose software development. C, Assembly, and Fortran fall into this category.<a href="#fnref:4" rev="footnote">&#8617;</a></p></li>
<li id="fn:5">
<p>For example, the Linux virtual filesystem, which is implemented in message-passing style, has a common set of operations that all filesystems are expected to support (ex: <code>unlink</code>). However individual filesystems may support additional operations: For example the HFS+ filesystem on Mac OS X additionally supports a <code>delete</code> operation, which has slightly different semantics than the standard <code>unlink</code> operation.<a href="#fnref:5" rev="footnote">&#8617;</a></p></li>
<li id="fn:6">
<p>A common case where eliminating mutation may <em>not</em> be practical is when defining and working with large data structures that need many small updates made to them over time. If such a structure were made immutable, there would be a large performance penalty for recopying the entire structure whenever a small change needed to be made.<a href="#fnref:6" rev="footnote">&#8617;</a></p></li>
</ol>
</div>


  </div>
  
  <div class="col-md-12 block-bar">
    <div id="subscribe-block" class="block">
  <div class="subscribe__prompt">Did you enjoy this article?</div>
  <a class="subscribe" href="https://mastodon.world/@davidfstr">
  <img src="/assets/mastodon-icon-48x48.png" alt="Mastodon icon, by Icons8." width="16" height="16" />Subscribe (Mastodon)
</a>
<a class="subscribe" href="feed://dafoster.net/atom.xml">
  <img src="/assets/feed-icon-14x14.png" alt="RSS icon" width="14" height="14" />Subscribe (RSS)
</a>
<a class="subscribe" href="mailto:add@rssby.email?body=feed://dafoster.net/atom.xml&subject=Subscribe">
  <img src="/assets/mail-48x48.png" alt="Email icon, by Freepik at Flaticon.com" width="18" height="18" style="margin-left: -2px;" />Subscribe (Email)
</a>


</div>

  </div>
  
  <div class="col-md-12">
    <div style="text-align: center;">
      <ul class="pagination">
      
        <li class="prev"><a href="/articles/2013/01/29/unique-features-of-various-programming-languages/" title="Unique Features of Various Programming Languages">&larr; Previous</a></li>
      
        <li><a href="/articles/">Index</a></li>
      
        <li class="next"><a href="/articles/2013/02/02/rdiscount-2.0.7-released/" title="RDiscount 2.0.7 released">Next &rarr;</a></li>
      
      </ul>
    </div>
    
    
  </div>
</div>

        
      </div>

      <footer>
        <p>&copy; 2024 <a href="/about/">David Foster</a>
        
        </p>
      </footer>

    </div>
    
  
  
  
  
  
    
  <!-- Analytics Footer -->
  
    
  
  </body>
</html>
